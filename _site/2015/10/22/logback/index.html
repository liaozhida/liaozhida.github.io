<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  
<span class="nt">&lt;configuration&gt;</span>  
    <span class="c">&lt;!-- 控制台 appender --&gt;</span>  
    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"STDOUT"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.ConsoleAppender"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;encoder&gt;</span>  
            <span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n<span class="nt">&lt;/pattern&gt;</span>  
        <span class="nt">&lt;/encoder&gt;</span>  
    <span class="nt">&lt;/appender&gt;</span>  
    <span class="c">&lt;!-- 出错日志 appender  --&gt;</span>  
    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"ERROR"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;rollingPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>  
            <span class="c">&lt;!-- 按天回滚 daily --&gt;</span>  
            <span class="c">&lt;!-- log.dir 在maven profile里配置 --&gt;</span>  
            <span class="nt">&lt;fileNamePattern&gt;</span>D:/home/logs//security-error-%d{yyyy-MM-dd}.log<span class="nt">&lt;/fileNamePattern&gt;</span>  
            <span class="c">&lt;!-- 日志最大的历史 60天 --&gt;</span>  
            <span class="nt">&lt;maxHistory&gt;</span>60<span class="nt">&lt;/maxHistory&gt;</span>  
        <span class="nt">&lt;/rollingPolicy&gt;</span>  
        <span class="nt">&lt;encoder&gt;</span>  
            <span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n<span class="nt">&lt;/pattern&gt;</span>  
        <span class="nt">&lt;/encoder&gt;</span>  
        <span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span><span class="c">&lt;!-- 只打印错误日志 --&gt;</span>  
            <span class="nt">&lt;level&gt;</span>ERROR<span class="nt">&lt;/level&gt;</span>  
            <span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>  
            <span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>  
        <span class="nt">&lt;/filter&gt;</span>  
    <span class="nt">&lt;/appender&gt;</span>  
    <span class="c">&lt;!-- 访问日志 appender  --&gt;</span>  
    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"ACCESS"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;rollingPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>  
            <span class="c">&lt;!-- 按天回滚 daily --&gt;</span>  
            <span class="nt">&lt;fileNamePattern&gt;</span>D:/home/logs//security-access-%d{yyyy-MM-dd}.log<span class="nt">&lt;/fileNamePattern&gt;</span>  
            <span class="c">&lt;!-- 日志最大的历史 60天 --&gt;</span>  
            <span class="nt">&lt;maxHistory&gt;</span>60<span class="nt">&lt;/maxHistory&gt;</span>  
        <span class="nt">&lt;/rollingPolicy&gt;</span>  
        <span class="nt">&lt;encoder&gt;</span>  
            <span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n<span class="nt">&lt;/pattern&gt;</span>  
        <span class="nt">&lt;/encoder&gt;</span>  
    <span class="nt">&lt;/appender&gt;</span>  
  
    <span class="c">&lt;!-- info日志 appender  --&gt;</span>  
    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"INFO"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;rollingPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>  
            <span class="c">&lt;!-- 按天回滚 daily --&gt;</span>  
            <span class="nt">&lt;fileNamePattern&gt;</span>D:/home/logs//security-info-%d{yyyy-MM-dd}.log<span class="nt">&lt;/fileNamePattern&gt;</span>  
            <span class="c">&lt;!-- 日志最大的历史 60天 --&gt;</span>  
            <span class="nt">&lt;maxHistory&gt;</span>60<span class="nt">&lt;/maxHistory&gt;</span>  
        <span class="nt">&lt;/rollingPolicy&gt;</span>  
        <span class="nt">&lt;encoder&gt;</span>  
            <span class="nt">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n<span class="nt">&lt;/pattern&gt;</span>  
        <span class="nt">&lt;/encoder&gt;</span>  
        <span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span><span class="c">&lt;!-- 只打印错误日志 --&gt;</span>  
            <span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>  
            <span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>  
            <span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>  
        <span class="nt">&lt;/filter&gt;</span>  
    <span class="nt">&lt;/appender&gt;</span>  
  
  
  
    <span class="c">&lt;!--日志打印的包的范围，及分类日志文件存储 --&gt;</span>  
    <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"com.crop.plat"</span> <span class="na">additivity=</span><span class="s">"false"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">"DEBUG"</span> <span class="nt">/&gt;</span>  
        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"STDOUT"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"ERROR"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"ACCESS"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"INFO"</span> <span class="nt">/&gt;</span>  
    <span class="nt">&lt;/logger&gt;</span>  
  
  
    <span class="c">&lt;!--控制台打印资源加载信息--&gt;</span>  
    <span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">"info"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"STDOUT"</span> <span class="nt">/&gt;</span>  
    <span class="nt">&lt;/root&gt;</span>  
<span class="nt">&lt;/configuration&gt;</span>  
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;!-- Logging dependencies --&gt;  
        &lt;dependency&gt;  
            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;  
            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;  
            &lt;version&gt;1.0.1&lt;/version&gt;  
            &lt;exclusions&gt;  
                &lt;exclusion&gt;  
                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  
                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;  
                &lt;/exclusion&gt;  
            &lt;/exclusions&gt;  
        &lt;/dependency&gt;  
        &lt;dependency&gt;  
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  
            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;  
            &lt;version&gt;${slf4j.version}&lt;/version&gt;  
        &lt;/dependency&gt;  
        &lt;dependency&gt;  
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  
            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;  
            &lt;version&gt;${slf4j.version}&lt;/version&gt;  
        &lt;/dependency&gt;  
</code></pre>
</div>
