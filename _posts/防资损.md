防资损.md


#### 事务保障

避免：

- 事务内调用远程接口

- 事务内发送非事务消息

- 类内部调用声明式事务方法

原则：

- 先落库后异步
- 分布式事务
- 使用编程式事务
- 事务中重新获取代理Bean


#### 防重入

- insert * when 



 

业务锁-多维度-类似于ConcurrentMap分段锁 

